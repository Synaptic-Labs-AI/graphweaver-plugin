/* General Accordion Styles */
.gw-accordion {
    background-color: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    border-radius: 8px;
    margin-bottom: 16px;
    overflow: hidden;
}

.gw-accordion-header {
    background-color: var(--background-secondary-alt);
    padding: 12px 16px;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background-color 0.2s ease;
}

.gw-accordion-header:hover {
    background-color: var(--background-modifier-hover);
}

.gw-accordion-title-wrapper {
    display: flex;
    align-items: center;
    flex-grow: 1;
}

.gw-accordion-title {
    margin-right: auto;
}

.gw-accordion-toggle {
    font-size: 0.8em;
    transition: transform 0.2s ease;
    margin-left: 8px;
}

.gw-accordion-description {
    padding: 8px 16px;
    font-size: 0.9em;
    color: var(--text-muted);
    background-color: var(--background-secondary);
    border-top: 1px solid var(--background-modifier-border);
}

.gw-accordion-content {
    padding: 16px;
}

.gw-accordion.gw-accordion-open .gw-accordion-toggle {
    transform: rotate(180deg);
}

/* Property Manager Styles */
.gw-property-editor {
    margin-bottom: 20px;
}

.gw-property-editor .setting-item {
    border-top: none;
    padding: 8px 0;
}

.gw-property-editor input[type="text"],
.gw-property-editor textarea,
.gw-property-editor select {
    width: 100%;
    background-color: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    color: var(--text-normal);
    padding: 8px;
    border-radius: 4px;
}

/* Button Styles */
.gw-button-container {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-top: 20px;
}

.gw-button-container .setting-item {
    border-top: none;
    padding: 0;
    justify-content: flex-end;
}

.gw-button-container .setting-item-control {
    display: flex;
    gap: 10px;
}

/* Edit Properties Modal Styles */
.gw-select-all-container {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
    padding: 0 8px;
}

.gw-select-all-container input[type="checkbox"] {
    margin-right: 8px;
}

.gw-modal-property-list {
    max-height: 400px;
    overflow-y: auto;
    margin-bottom: 20px;
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
}

.gw-modal-property-table {
    width: 100%;
    border-collapse: collapse;
}

.gw-modal-property-table th,
.gw-modal-property-table td {
    padding: 8px;
    border: 1px solid var(--background-modifier-border);
}

.gw-modal-property-table th {
    background-color: var(--background-secondary-alt);
    font-weight: bold;
    text-align: left;
}

.gw-modal-property-table input[type="text"],
.gw-modal-property-table select {
    width: 100%;
    background-color: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    color: var(--text-normal);
    padding: 4px;
    border-radius: 4px;
}

.gw-modal-property-table tr {
    cursor: move;
}

.gw-drag-handle {
    cursor: move;
    user-select: none;
    text-align: center;
}

.gw-modal-property-table tr:hover {
    background-color: var(--background-secondary);
}

.gw-modal-button-container {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-top: 20px;
}

.gw-modal-button-container .setting-item {
    border-top: none;
    padding: 0;
    justify-content: flex-end;
}

.gw-modal-button-container .setting-item-control {
    display: flex;
    gap: 10px;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .gw-modal-property-table {
        font-size: 0.9em;
    }

    .gw-modal-property-table input[type="text"],
    .gw-modal-property-table select {
        padding: 2px;
    }
}

/* Tag Manager Styles */
.gw-tag-editor {
    margin-bottom: 20px;
}

.gw-tag-editor .setting-item {
    border-top: none;
    padding: 8px 0;
}

.gw-tag-editor input[type="text"],
.gw-tag-editor textarea {
    width: 100%;
    background-color: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    color: var(--text-normal);
    padding: 8px;
    border-radius: 4px;
}

/* Edit Tags Modal Styles */
.gw-modal-tag-list {
    max-height: 400px;
    overflow-y: auto;
    margin-bottom: 20px;
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
}

.gw-modal-tag-table {
    width: 100%;
    border-collapse: collapse;
}

.gw-modal-tag-table th,
.gw-modal-tag-table td {
    padding: 8px;
    border: 1px solid var(--background-modifier-border);
}

.gw-modal-tag-table th {
    background-color: var(--background-secondary-alt);
    font-weight: bold;
    text-align: left;
}

.gw-modal-tag-table input[type="text"],
.gw-modal-tag-table textarea {
    width: 100%;
    background-color: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    color: var(--text-normal);
    padding: 4px;
    border-radius: 4px;
}

.ontology-generator-modal {
    padding: 20px;
}

.ontology-generator-modal h2 {
    margin-bottom: 20px;
    color: var(--text-normal);
}

.ontology-generator-modal .loading-container,
.ontology-generator-modal .content-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
}

.ontology-generator-modal .spinner {
    border: 4px solid var(--background-modifier-border);
    border-top: 4px solid var(--interactive-accent);
    border-radius: 50%;
    width: 40px;
    height: 40px;
    animation: spin 1s linear infinite;
    margin-bottom: 20px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.ontology-generator-modal .vault-stats {
    background-color: var(--background-secondary);
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 20px;
    width: 100%;
}

.ontology-generator-modal .vault-stats h3 {
    margin-top: 0;
    margin-bottom: 10px;
    color: var(--text-normal);
}

.ontology-generator-modal .vault-stats ul {
    list-style-type: none;
    padding: 0;
    margin: 0;
}

.ontology-generator-modal .vault-stats li {
    margin-bottom: 5px;
}

.ontology-generator-modal .setting-item {
    border-top: none;
    padding: 0;
    margin-bottom: 20px;
}

.ontology-generator-modal .dropdown {
    width: 100%;
}

.ontology-generator-modal .button-container {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    width: 100%;
}

.ontology-generator-modal .error-message {
    color: var(--text-error);
    font-weight: bold;
}

/* styles.css */

/* File Explorer Styles */
.file-explorer {
    max-height: 400px;
    overflow-y: auto;
    margin-top: 10px;
    border: 1px solid var(--color-border);
    padding: 10px;
    border-radius: 4px;
    background-color: var(--background-secondary);
}

/* Folder Styles */
.folder {
    margin-left: 10px;
}

.folder-name {
    display: flex;
    align-items: center;
    cursor: pointer;
    user-select: none;
}

.folder-checkbox {
    margin-right: 5px;
}

.folder-content {
    margin-left: 20px;
    display: none;
}

.folder.open .folder-content {
    display: block;
}

/* File Styles */
.file {
    display: flex;
    align-items: center;
    margin-left: 20px;
}

.file-checkbox {
    margin-right: 5px;
}

/* Icon Styles */
.icon {
    margin-right: 5px;
    font-size: 1em; /* Adjust as needed */
}

/* Button Container Styles */
.button-container {
    display: flex;
    justify-content: flex-end;
    margin-top: 20px;
}

.button-container button {
    margin-left: 10px;
}

/* Progress Bar Styles */
.progress-bar-container {
    width: 100%;
    background-color: var(--background-secondary);
    border: 1px solid var(--color-border);
    border-radius: 4px;
    overflow: hidden;
    height: 20px;
    margin-top: 20px;
}

.progress-bar {
    height: 100%;
    width: 0%;
    background-color: var(--interactive-accent);
    transition: width 0.3s ease;
}

/* Modal Header Styles */
.modal-content h2 {
    margin-bottom: 15px;
}

/* Button Styles */
.mod-cancel {
    background-color: var(--interactive-negative);
    color: var(--interactive-normal);
    border: none;
    padding: 6px 12px;
    border-radius: 4px;
    cursor: pointer;
}

.mod-cta {
    background-color: var(--interactive-positive);
    color: var(--text-normal);
    border: none;
    padding: 6px 12px;
    border-radius: 4px;
    cursor: pointer;
}

.mod-cancel:hover {
    background-color: var(--interactive-negative-hover);
}

.mod-cta:hover {
    background-color: var(--interactive-positive-hover);
}

/* Indeterminate Checkbox Style */
input[type="checkbox"].folder-checkbox:indeterminate {
    background-color: transparent;
    position: relative;
}

input[type="checkbox"].folder-checkbox:indeterminate::after {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 10px;
    height: 2px;
    background-color: currentColor;
    transform: translate(-50%, -50%);
}

/* Knowledge Bloom Accordion Styles */
.knowledge-bloom-description {
    background-color: var(--background-secondary);
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 20px;
}

.knowledge-bloom-model-selector {
    margin-bottom: 20px;
}

.knowledge-bloom-model-selector .dropdown {
    width: 100%;
    background-color: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    color: var(--text-normal);
    padding: 8px;
    border-radius: 4px;
}

.knowledge-bloom-description p {
    margin-bottom: 10px;
    color: var(--text-normal);
}

.knowledge-bloom-description ul {
    list-style-type: disc;
    padding-left: 20px;
    margin-top: 10px;
}

.knowledge-bloom-description li {
    margin-bottom: 5px;
    color: var(--text-muted);
}

.knowledge-bloom-prompt {
    margin-bottom: 20px;
}

.knowledge-bloom-prompt textarea {
    width: 100%;
    min-height: 100px;
    background-color: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    color: var(--text-normal);
    padding: 8px;
    border-radius: 4px;
    resize: vertical;
}

.knowledge-bloom-generate-button {
    display: flex;
    justify-content: flex-end;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .knowledge-bloom-description {
        font-size: 0.9em;
    }

    .knowledge-bloom-prompt textarea {
        min-height: 80px;
    }
}

/* Status Bar Core Styles */
.processing-status-bar {
    display: flex;
    align-items: center;
    gap: var(--size-2-4);
    padding: var(--size-2-2) var(--size-2-3);
    border-radius: var(--radius-s);
    transition: all 0.2s var(--motion-smooth);
    color: var(--text-muted);
    cursor: pointer;
}

.processing-status-bar:hover {
    color: var(--text-normal);
    background-color: var(--background-modifier-hover);
}

.processing-status-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 18px;
    height: 18px;
    border-radius: var(--radius-s);
    transition: transform 0.3s var(--motion-smooth);
}

/* Status States with Modern Colors */
.status-idle .processing-status-icon {
    color: var(--color-green);
}

.status-running .processing-status-icon {
    color: var(--color-yellow);
    animation: spin 1.5s var(--motion-smooth) infinite;
}

.status-error .processing-status-icon {
    color: var(--color-red);
    animation: pulse 2s var(--motion-smooth) infinite;
}

/* Modern Modal Styles */
.status-history-modal {
    --modal-padding: var(--size-4-6);
    
    max-width: min(600px, 90vw);
    max-height: min(80vh, 800px);
    border-radius: var(--radius-l);
    background-color: var(--background-primary);
    box-shadow: var(--shadow-l);
    overflow: hidden;
    animation: modalEnter 0.3s var(--motion-smooth);
}

.status-history-modal h2 {
    margin: 0;
    padding: var(--modal-padding);
    font-size: var(--font-ui-large);
    font-weight: var(--font-semibold);
    color: var(--text-normal);
    border-bottom: 1px solid var(--background-modifier-border);
    background-color: var(--background-secondary);
}

/* Enhanced Status Display */
.status-display {
    padding: var(--modal-padding);
    display: grid;
    gap: var(--size-4-4);
}

.status-metric {
    display: flex;
    align-items: center;
    gap: var(--size-4-2);
    padding: var(--size-4-2);
    background-color: var(--background-secondary);
    border-radius: var(--radius-m);
    transition: transform 0.2s var(--motion-smooth);
}

.status-metric:hover {
    transform: translateY(-2px);
    background-color: var(--background-secondary-alt);
}

/* Modern Table Styles */
.history-table {
    width: 100%;
    border-spacing: 0;
    margin: var(--size-4-2) 0;
}

.history-table th {
    padding: var(--size-4-2);
    font-weight: var(--font-semibold);
    text-align: left;
    color: var(--text-muted);
    border-bottom: 2px solid var(--background-modifier-border);
    position: sticky;
    top: 0;
    background-color: var(--background-primary);
    z-index: 1;
}

.history-table td {
    padding: var(--size-4-2);
    border-bottom: 1px solid var(--background-modifier-border);
    color: var(--text-normal);
}

.history-table tr {
    transition: all 0.2s var(--motion-smooth);
}

.history-table tr:hover td {
    background-color: var(--background-secondary);
}

/* Status Badges with Smooth Gradients */
.status-badge {
    display: inline-flex;
    align-items: center;
    padding: var(--size-2-2) var(--size-4-2);
    border-radius: var(--radius-pill);
    font-size: var(--font-smaller);
    font-weight: var(--font-medium);
    letter-spacing: 0.5px;
}

.status-badge-success {
    background: linear-gradient(135deg, var(--color-green), color-mix(in srgb, var(--color-green) 80%, black));
    color: white;
}

.status-badge-running {
    background: linear-gradient(135deg, var(--color-yellow), color-mix(in srgb, var(--color-yellow) 80%, black));
    color: var(--text-on-accent);
}

.status-badge-error {
    background: linear-gradient(135deg, var(--color-red), color-mix(in srgb, var(--color-red) 80%, black));
    color: white;
}

/* Smooth Animations */
@keyframes modalEnter {
    from {
        opacity: 0;
        transform: scale(0.95) translateY(-10px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

/* Empty States */
.empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--size-4-6);
    color: var(--text-muted);
    text-align: center;
}

.empty-state-icon {
    font-size: var(--font-ui-large);
    margin-bottom: var(--size-4-2);
    opacity: 0.5;
}

/* Scrollbar Styling */
.status-history-modal ::-webkit-scrollbar {
    width: 8px;
}

.status-history-modal ::-webkit-scrollbar-track {
    background: var(--background-primary);
}

.status-history-modal ::-webkit-scrollbar-thumb {
    background: var(--background-modifier-border);
    border-radius: var(--radius-s);
    border: 2px solid var(--background-primary);
}

.status-history-modal ::-webkit-scrollbar-thumb:hover {
    background: var(--background-modifier-border-hover);
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
    .status-history-modal {
        --modal-padding: var(--size-4-4);
    }
    
    .status-metric {
        padding: var(--size-4-2);
    }
    
    .history-table th,
    .history-table td {
        padding: var(--size-2-3);
        font-size: var(--font-smaller);
    }
}

/* Enhanced Dropdown Styling */
.dropdown,
select {
    /* Ensure proper sizing */
    min-height: 2.5em;          /* Increased height for better text visibility */
    padding: 0.5em 1em;         /* Add comfortable padding around text */
    line-height: 1.4;           /* Improve line height for better readability */
    
    /* Handle text overflow */
    white-space: normal;        /* Allow text to wrap if needed */
    text-overflow: ellipsis;    /* Show ellipsis for overflowing text */
    
    /* Improved appearance */
    background-color: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
    
    /* Better positioning */
    display: flex;
    align-items: center;
    
    /* Ensure proper width */
    width: 100%;
    max-width: 100%;
    
    /* Smooth transitions */
    transition: border-color 0.2s ease, background-color 0.2s ease;
}

/* Dropdown hover state */
.dropdown:hover,
select:hover {
    border-color: var(--interactive-accent);
    background-color: var(--background-secondary);
}

/* Dropdown options styling */
select option {
    padding: 0.5em 1em;
    background-color: var(--background-primary);
    color: var(--text-normal);
}

/* Ensure proper spacing in the Knowledge Bloom section */
.knowledge-bloom-model-selector .dropdown,
.knowledge-bloom-model-selector select {
    margin: 0.5em 0;
    width: 100%;
}